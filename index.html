{"files":[{"id":"5d144015-09eb-4ca7-ae98-16a47df7313e","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"Europe/Madrid\",\n  \"dependencies\": {},\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\",\n  \"webapp\": {\n    \"executeAs\": \"USER_DEPLOYING\",\n    \"access\": \"ANYONE_ANONYMOUS\"\n  }\n}"},{"id":"a89e30c6-ec0b-46fe-98c4-f380faa6b4be","name":"index","type":"html","source":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003cmeta charset\u003d\"UTF-8\"\u003e\n\u003ctitle\u003eDiseñador Camisetas 3D\u003c/title\u003e\n\n\u003cscript src\u003d\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"\u003e\u003c/script\u003e\n\u003cscript src\u003d\"https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/GLTFLoader.js\"\u003e\u003c/script\u003e\n\n\u003cstyle\u003e\nbody{\nmargin:0;\ndisplay:flex;\nfont-family:Arial;\nbackground:#111;\n}\n\n#visor{\nwidth:70%;\nheight:100vh;\n}\n\n#panel{\nwidth:30%;\npadding:15px;\nbackground:#222;\ncolor:white;\n}\n\u003c/style\u003e\n\u003c/head\u003e\n\n\u003cbody\u003e\n\n\u003cdiv id\u003d\"visor\"\u003e\u003c/div\u003e\n\n\u003cdiv id\u003d\"panel\"\u003e\n\u003ch2\u003eConfigurador\u003c/h2\u003e\n\u003cp\u003eSi ves el modelo, ya funciona.\u003c/p\u003e\n\u003c/div\u003e\n\n\u003cscript\u003e\n\nconst escena \u003d new THREE.Scene();\n\nconst camara \u003d new THREE.PerspectiveCamera(\n60,\n(window.innerWidth*0.7)/window.innerHeight,\n0.1,\n1000\n);\n\ncamara.position.set(0,1.5,6);\n\nconst render \u003d new THREE.WebGLRenderer({antialias:true});\nrender.setSize(window.innerWidth*0.7,window.innerHeight);\ndocument.getElementById(\"visor\").appendChild(render.domElement);\n\nconst luz \u003d new THREE.HemisphereLight(0xffffff,0x444444,1.2);\nescena.add(luz);\n\nconst dirLight \u003d new THREE.DirectionalLight(0xffffff,1);\ndirLight.position.set(5,10,7);\nescena.add(dirLight);\n\nconst loader \u003d new THREE.GLTFLoader();\n\nloader.load(\n\"https://cdn.jsdelivr.net/gh/Fadax1234/modelo3d@main/camiseta.glb\",\n\n\nfunction(gltf){\n\nconst modelo \u003d gltf.scene;\n\n// CENTRADO AUTOMÁTICO REAL\nconst box \u003d new THREE.Box3().setFromObject(modelo);\nconst center \u003d box.getCenter(new THREE.Vector3());\nconst size \u003d box.getSize(new THREE.Vector3());\n\nmodelo.position.x -\u003d center.x;\nmodelo.position.y -\u003d center.y;\nmodelo.position.z -\u003d center.z;\n\nconst escala \u003d 4 / Math.max(size.x,size.y,size.z);\nmodelo.scale.set(escala,escala,escala);\n\nescena.add(modelo);\n\n},\n\nundefined,\n\nfunction(error){\nconsole.error(error);\nalert(\"Error cargando modelo\");\n}\n\n);\n\nfunction animar(){\nrequestAnimationFrame(animar);\nescena.rotation.y +\u003d 0.01;\nrender.render(escena,camara);\n}\n\nanimar();\n\n\u003c/script\u003e\n\n\u003c/body\u003e\n\u003c/html\u003e\n"},{"id":"1d5aea9c-b119-4336-8943-ac6c4c8e3a3c","name":"Código","type":"server_js","source":"function doGet() {\n  return HtmlService\n    .createHtmlOutputFromFile(\u0027index\u0027)\n    .setTitle(\u0027Configurador Camisetas 3D\u0027)\n    .setXFrameOptionsMode(HtmlService.XFrameOptionsMode.ALLOWALL);\n}\n"}]}